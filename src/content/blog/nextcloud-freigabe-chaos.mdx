---
title: Nextcloud und das gro√üe Freigabe-Chaos
image:
  url: /images/blog/nextcloud-freigabe-chaos/nextcloud-teaser.webp
  alt: "Die drei Icons f√ºr verschiedene Freigabe-Methoden in Nextcloud: Shares, Gruppenordner und Teams"
subtitle: Komplizierter als gedacht
teaser: Nextcloud gilt oft als Ersatz f√ºr kommerzielle Cloudspeicher wie Dropbox und Google Drive. Die urspr√ºngliche Kernaufgabe, das Teilen von Dateien und Ordnern, ist aber oft deutlich komplizierter und verwirrender als angenommen, da es drei unterschiedliche Freigabe-Mechanismen gibt.
date: 2024-02-07
update: 2024-09-02
authors:
  - moritz
---

Die Verbreitung und Popularit√§t von Open-Source-Software hat im Jahr 2023 noch einmal deutlich an Fahrt aufgenommen. Nicht zuletzt durch gro√üe Umwerfungen im Social-Media-Bereich waren Open-Source-Alternativen zu etablierten Software-L√∂sungen in 2023 popul√§rer denn je. Dabei kommt man nat√ºrlich nicht um das [Nextcloud-Projekt](https://nextcloud.com/) herum. Gerne und h√§ufig wird die Software als Vorzeige-Alternative zu kommerziellen und zentralisierten Cloudspeicher-Anbietern wie Dropbox, Google Drive oder Microsoft One Drive und Sharepoint genannt. Auf den ersten Blick ist das eine tolle Idee, aber im Detail sorgt Nextcloud leider oft f√ºr mehr Probleme als es l√∂st: Zum Beispiel bei der Kernaufgabe "Filesharing". 

## Drei unabh√§ngige Mechanismen zum Teilen von Dateien und Ordnern

Die Motivation und Euphorie beim Start einer neuen Nextcloud-Instanz sind oft sehr gro√ü. Endlich eigene, unabh√§ngige Infrastruktur zu nutzen, f√ºhlt sich zun√§chst toll an. √úber die Web-Oberfl√§che oder die verschiedenen Client-Anwendungen f√ºllt sich die Nextcloud schnell mit den ersten Dateien. Und irgendwann kommt der Moment, wo mindestens zwei Benutzer oder vielleicht sogar eine ganze Gruppe von Benutzern eine Datei oder einen Ordner miteinander teilen m√∂chten. Klingt eigentlich simpel, denn dieses Szenario beschreibt ja schlie√ülich die Gr√ºndungsidee von Nextcloud (bzw. OwnCloud). Doch diese Aufgabe (Teilen von Dateien in einer festen Gruppe von Personen) ist gar nicht so trivial zu bewerkstelligen. Nextcloud bietet inzwischen mindestens drei verschiedene Mechanismen daf√ºr an. 

### Shares: Der naheliegendste Weg mit vielen Fallstricken

Die einfachste L√∂sung f√ºr dieses Problem ist also auch die √Ñlteste: die eingebaute "Teilen"-Funktion von Nextcloud. Neben jeder Datei und jedem Ordner in Nextcloud gibt es ein kleines "Share"-Icon, welches einen Dialog √∂ffnet, in dem sich eine Datei oder ein Ordner mit anderen Nextcloud-Nutzern oder Gruppen teilen l√§sst. Das ist einfach und leicht verst√§ndlich ‚Äì und gef√§hrlich. Diese Funktion sorgt gerade in Organisationen mit vielen Benutzern oft f√ºr viel Chaos: Technisch gesehen verh√§lt sich eine solche Nextcloud-Freigabe eigentlich wie ein sogenannter [symbolischer Link](https://de.m.wikipedia.org/wiki/Symbolische_Verkn%C3%BCpfung) in einem Dateisystem. Deswegen gibt es einige weniger bekannte Nebeneffekte:

- üë§ **Shares geh√∂ren immer einem spezifischen Nutzer:** Nur der teilende Nutzer kann den Share verwalten. Sollte der Nutzer zum Beispiel aus der betreffenden Organisation ausscheiden, und sein Account gel√∂scht oder gesperrt werden, dann ist der Share nicht mehr zug√§nglich f√ºr die anderen Empf√§nger des Shares (f√ºr Admins gibt es die M√∂glichkeit, √ºber das `occ`-Kommandozeilenprogramm die Shares auf einen anderen Nutzer zu √ºbertragen). Genau so kann sich der teilende Nutzer einfach entscheiden, wichtige Dateien zu l√∂schen, ohne dass es eine M√∂glichkeit zur Intervention f√ºr die Share-Empf√§nger gibt. Gerade f√ºr Firmen ist das oft ein kaum √ºberschaubares Risiko.

- ‚ùì **Benennung und Ort des Shares sind nicht eindeutig:** Ein empfangener Share taucht zun√§chst auf dem obersten Level der eigenen Nextcloud auf. Der Empf√§nger einer Freigabe kann diese jedoch an einen beliebigen Ort in seiner pers√∂nlichen Ordnerstruktur verschieben. Und er kann die Freigabe auch beliebig umbenennen. M√∂chte man also (rein kommunikativ) ein gemeinsames Dokument referenzieren, dann wird es kompliziert: Eine Freigabe kann beim Benutzer A einen anderen Namen und einen anderen Ort haben als bei Benutzer B.

F√ºr sehr kleine und private Instanzen ist die einfache Share-Funktion meistens noch ausreichend. Mit steigender Anzahl von Nutzern und festen Teams wird die Funktion allerdings sehr schnell un√ºbersichtlich. Im professionellen Umfeld ist die Funktion kaum zu beherrschen und birgt die Gefahr, dass Mitarbeiter ihre Dokumente nicht mehr finden, wenn Nutzer ausscheiden. Wer eine √úbersicht √ºber die Menge an eingerichteten Shares haben m√∂chte, kann dazu das [`sharelisting`-Plugin](https://github.com/nextcloud/sharelisting) nutzen.

### Gruppenordner: Fast perfekt aber wenig gepflegt

Um viele der genannten Probleme bei der Arbeit mit Gruppen zu beseitigen, gibt es bereits [seit 2017](https://nextcloud.com/blog/new-version-of-groupfolders-app-is-coming/) das offizielle ["groupfolders"-Plugin](https://github.com/nextcloud/groupfolders) f√ºr Nextcloud. Kurioserweise geh√∂ren Gruppen zwar zum Standard-Funktionsumfang von Nextcloud, aber nicht das Plugin f√ºr Gruppenordner. Die zugrundeliegenden Gruppen k√∂nnen nur von Admins in Nextcloud verwaltet werden. Gruppenbasierte Funktionalit√§ten eignen sich also tendenziell gut f√ºr hierarchisch strukturierte Organisationen und Firmen, wo klar definiert ist, wer √ºber eine Gruppenzuordnung entscheiden kann.

- üë• **Ein Gruppenordner geh√∂rt tats√§chlich einer Gruppe und nicht einem Nutzer:** Das Ausscheiden einzelner Gruppen-Mitglieder hat also keinen Einfluss auf die Verf√ºgbarkeit der Daten. Trotzdem kann ein Gruppenordner auch mehreren Gruppen gleichzeitig zug√§nglich gemacht werden.

- üëë **Gruppenordner k√∂nnen nur von Nextcloud-Admins angelegt werden.** Ein bisschen Selbstorganisation innerhalb eines Gruppenordners kann trotzdem √ºber sogenannte "Advanced Permissions" sichergestellt werden.

- üîê **Zugriffsrechte in Gruppenordnern k√∂nnen detailliert eingestellt werden:** √úber die "Advanced Permissions" kann einzelnen Gruppen oder Nutzer Lesen/Schreiben/L√∂schen/Erstelln und Teilen erlaubt oder verboten werden.

- üéØ **Einheitlicher Ort und Benennung:** Gruppenordner sind f√ºr alle Nutzer immer auf der obersten Verzeichnisebene ans√§ssig und hei√üen f√ºr alle Nutzer gleich.

- üö™ **Nur f√ºr interne Nutzer mit Nextcloud-Account:** Gruppenordner k√∂nnen nicht verwendet werden, um Objekte mit Externen (Menschen ohne einen Account auf der betreffenden Nextcloud-Instanz) √ºber einen Link zu teilen ‚Äì das geht nur mit "Shares".

F√ºr die Zusammenarbeit in einer festen und hierarchischen Gruppen-Konstellation (wie sie √ºblicherweise im Arbeitsumfeld vorkommt) scheinen Groupfolders also eine √ºberlegene L√∂sung zu sein. Trotzdem f√ºhlt sich das groupfolders-Plugin manchmal wie ungewollter Ballast im Nextcloud-Universum an. Obwohl das Plugin offiziell von der Nextcloud GmbH verwaltet wird, bekommt es augenscheinlich nur [wenig Priorit√§t und Ressourcen](https://github.com/nextcloud/groupfolders/issues/1215) zugewiesen und weist deswegen teilweise monatelang gravierende Fehler auf.

### Teams: Aufgebohrte Share-Funktion

["Teams"](https://github.com/nextcloud/circles)(fr√ºher "Circles") ist eine dritte Variante um mit einer Gruppe Dateien und Ordner zu teilen. Teams wirken aber eher wie eine kleine Erweiterung der einfachen Share-Funktionalit√§t. Anstelle einzelner Nutzer und (durch Admins definierte) Gruppen, k√∂nnen Dateien und Ordner damit auch mit selbstverwalteten Teams geteilt werden. Teams k√∂nnen von jedem Nutzer erstellt werden (vorausgesetzt die zugeh√∂rige Nextcloud-App ist installiert), und ben√∂tigen keinerlei Admin-Intervention. Teams erm√∂glichen also Selbstorganisation in Strukturen, wo keine klare Hierarchie oder Zust√§ndigkeit herrscht. Die so erstellten Freigaben leiden allerdings unter denselben Problemen wie die einfachen Dateifreigaben:

- üë§ **Shares geh√∂ren immer einem spezifischen Nutzer:** Auch mit einem Team geteilte Freigaben k√∂nnen vom Freigabe-Ersteller jederzeit widerrufen werden, so dass der Inhalt nicht mehr verf√ºgbar ist.

- ‚ùì **Benennung und Ort des Shares sind nicht eindeutig:** Die Ordner k√∂nnen bei unterschiedlichen Nutzern unterschiedliche Namen haben und sich an unterschiedlichen Orten befinden.

Teams sind vor allem f√ºr Szenarien geeignet, in denen sich Nutzer selbst organisieren m√∂chten, und Gruppen auch ohne Zutun eines Administrators einrichten m√∂chten.

## Problem: Es mangelt an Dokumentation und Aufkl√§rung

Nat√ºrlich ist es eine Luxus-Situation wenn es ein gro√ües √ñkosystem rund um Nextcloud gibt, mit verschiedenen Ans√§tzen zum Teilen von Objekten. Das Problem ist also nicht die Existenz der einzelnen Methoden, sondern ihre Koexistenz. Viele Nutzer kennen die Alternativen zur einfachen Share-Funktion und ihre jeweiligen Nachteile gar nicht. Auf der anderen Seite wird es vor allem dann problematisch, wenn mehrere Methoden gleichzeitig aktiv sind. Denn ein Groupfolder kann zus√§tzlich auch noch von einer Person "geteilt" werden. Es ist also denkbar, dass zwei Personen auf den gleichen Ordner zugreifen ‚Äì eine Person √ºber einen Share, und eine andere √ºber ihre Gruppenzugeh√∂rigkeit. Das Erkennen der jeweiligen Freigabe-Methode durch das passende Icon in der Weboberfl√§che ist also eine wichtige F√§higkeit f√ºr Nextcloud-Nutzer.

<figure class="[&>p>img]:mx-auto">
![](/images/blog/nextcloud-freigabe-chaos/nextcloud-shares.png)
</figure>

Admins k√∂nnen die einzelnen Methoden zwar deaktivieren, aber das hat Auswirkungen auf die Funktionalit√§t: Wer ausschlie√ülich mit Groupfolders arbeitet kann die "Share"-Funktion komplett deaktivieren, und so Verwirrungen vorbeugen. Wer aber weiterhin gelegentlich Dateien und Ordner mit externen Personen √ºber einen Link teilen m√∂chte, der muss die Share-Funktion weiterhin aktiviert lassen und muss somit seinen Nutzern beibringen, f√ºr welche Situation welche Freigabe-Methode die beste ist.

Es w√§re daher w√ºnschenswert, wenn das Nextcloud-Interface auf das Vorhandensein mehrerer Freigabe-Methoden eingehen w√ºrde. Sobald mehrere Methoden installiert sind, k√∂nnten die Nutzer mit entsprechenden Hinweisen oder Hilfetexten aufgekl√§rt werden, ob sie wirklich die jeweils richtige Methode gew√§hlt haben. Die Basis daf√ºr w√§re aber zun√§chst eine ausf√ºhrliche, gegen√ºberstellende Dokumentation der drei Methoden mit ihren einzelnen Vor- und Nachteilen. Eine solche Dokumentation durch die Nextcloud GmbH w√§re sehr hilfreich ‚Äì auch gerade im Bezug auf die Produktvision und die Zukunftspl√§ne der GmbH. Bisher geht das Nextcloud User Manual aber [ausschlie√ülich auf die Share-Funktion ein](https://docs.nextcloud.com/server/latest/user_manual/en/files/sharing.html), ohne Vergleiche zu Teams und Groupfolders zu ziehen. Auch im offiziellen Nextcloud-Blog kam das Thema leider noch nicht vor.

**Update (2.9.24)**: Mit dem Release von Nextcloud Hub 8 (aka Nextcloud 29) wurde die "Circles"-Funktionalit√§t in "Teams" umbenannt. An der Funktionsweise hat sich allerdings nichts ge√§ndert. Wir haben den Artikel entsprechend angepasst.