---
import {
  HeroSection,
  SectionGridContainer,
  AboutUsSection,
  ServicesSection,
  CustomersSection,
} from '@components'

import BaseLayout from '@layouts/BaseLayout.astro'

import { findCollectionItemsByIdOrTitle, loadLatestBlogPostsWithAuthors } from '../util/content'
import NewsSection from '@components/NewsSection'
import WhoWeAreSection from '@components/WhoWeAreSection'
import { getCollection } from 'astro:content'

const devTools = [
  'react',
  'laravel',
  'java',
  'typescript',
  'nodejs',
  'php',
  'astro',
  'inertia',
  'camunda',
  'kirby',
  'tailwind',
  'nestjs',
]

const consultTools = [
  'matrix',
  'nextcloud',
  'git',
  'bitwarden',
  'github',
  'gitlab',
  'markdown',
  'keycloak',
  'paperless-ngx',
]

const devToolsItems = await findCollectionItemsByIdOrTitle('tools', devTools)
const consultToolsItems = await findCollectionItemsByIdOrTitle('tools', consultTools)

const latestBlogPosts = (await loadLatestBlogPostsWithAuthors()).slice(0, 2)
---

<BaseLayout>
  <SectionGridContainer className='bg-bb-grey-200'>
    <HeroSection
      title={'Individuelle Software: Modern, bodenständig und\u00A0ohne Schnickschnack'}
      subtitle={'Wir sind zwei Software-Entwickler aus Hamburg und lösen Probleme im Bereich der Digitalisierung: Making the world a bit better.'}
      buttonCaption='Schreib uns'
    />
  </SectionGridContainer>
  <SectionGridContainer
    className='bg-black overflow-hidden'
    innerClassName='py-16 md:py-28 px-5 lg:px-0'
  >
    <AboutUsSection />
  </SectionGridContainer>
  <SectionGridContainer
    className='bg-white overflow-hidden'
    innerClassName='py-16 md:py-28 px-5 lg:px-0'
  >
    <NewsSection posts={latestBlogPosts} />
  </SectionGridContainer>
  <SectionGridContainer
    className='bg-black overflow-hidden'
    innerClassName='py-16 md:py-28 px-5 lg:px-0'
  >
    <WhoWeAreSection />
  </SectionGridContainer>
  <SectionGridContainer className='bg-white' breakpoint='xl'>
    <ServicesSection developmentTechItems={devToolsItems} consultingTechItems={consultToolsItems} />
  </SectionGridContainer>
  <SectionGridContainer className='bg-white pb-16' breakpoint='xl'>
    <CustomersSection />
  </SectionGridContainer>
</BaseLayout>
