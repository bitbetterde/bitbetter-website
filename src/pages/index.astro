---
import {
  HeroSection,
  SectionGridContainer,
  AboutUsSection,
  ServicesSection,
  Footer,
  CarbonBadge,
  Navbar,
} from '@components'

import { getCollection } from 'astro:content'
import BaseLayout from '../layouts/BaseLayout.astro'

const META_TITLE = 'bitbetter'
const META_SUBTITLE = 'Individuelle Software: Modern, bodenständig und ohne Schnickschnack'
const META_DESCRIPTION =
  'Wir sind zwei Software-Entwickler aus Hamburg und lösen Probleme im Bereich der Digitalisierung: Making the world a bit better.'

const developmentTechItems = (await getCollection('stack_development'))
  .map((c) => c.data)
  .sort((a, b) => (a.order || 0) - (b.order || 0))
const consultingTechItems = (await getCollection('stack_consulting'))
  .map((c) => c.data)
  .sort((a, b) => (a.order || 0) - (b.order || 0))

const techstackKeywords = [...developmentTechItems, ...consultingTechItems]
  ?.map((item) => item?.title)
  .join(', ')
---

<BaseLayout
  metaTitle={META_TITLE}
  metaSubtitle={META_SUBTITLE}
  metaDescription={META_DESCRIPTION}
  techstackKeywords={techstackKeywords}
>
  <SectionGridContainer className='bg-bb-grey-200'>
    <HeroSection
      title={'Individuelle Software: Modern, bodenständig und\u00A0ohne Schnickschnack'}
      subtitle={META_DESCRIPTION}
      buttonCaption='Schreib uns'
    />
  </SectionGridContainer>
  <SectionGridContainer className='bg-white'>
    <div class='lg:h-48'></div>
  </SectionGridContainer>
  <SectionGridContainer className='z-10 bg-black overflow-hidden'>
    <AboutUsSection />
  </SectionGridContainer>
  <SectionGridContainer className='bg-white'>
    <ServicesSection
      developmentTechItems={developmentTechItems}
      consultingTechItems={consultingTechItems}
    />
  </SectionGridContainer>
</BaseLayout>
